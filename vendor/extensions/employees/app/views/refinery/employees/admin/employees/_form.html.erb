<%= form_for [refinery, :employees_admin, @employee] do |f| -%>
  <%= render '/refinery/admin/error_messages',
              :object => @employee,
              :include_object_name => true %>

  <div class='field'>
    <%= f.label :user_id -%>
    <%= f.text_field :user_id, class: 'js_user_field' -%>
  </div>

  <div class='field'>
    <%= f.label :employee_no -%>
    <%= f.text_field :employee_no -%>
  </div>

  <div class='field'>
    <%= f.label :full_name -%>
    <%= f.text_field :full_name -%>
  </div>

  <div class='field'>
    <%= f.label :id_no -%>
    <%= f.text_field :id_no -%>
  </div>

  <div class='field'>
    <%= f.label :title -%>
    <%= f.text_field :title -%>
  </div>

  <div class='field'>
    <%= f.label :profile_image -%>
    <%= render '/refinery/admin/image_picker',
               :f => f,
               :field => :profile_image_id,
               :image => @employee.profile_image -%>
  </div>

  <%= render '/refinery/admin/form_actions', :f => f,
             :continue_editing => false,
             :delete_title => t('delete', :scope => 'refinery.employees.admin.employees.employee'),
             :delete_confirmation => t('message', :scope => 'refinery.admin.delete', :title => @employee.employee_no) -%>
<% end -%>


<% content_for :stylesheets do %>
  <%= stylesheet_link_tag 'jquery-ui.css' %>
<% end %>

<% content_for :javascripts do %>

  <script type="text/javascript">
    $(function(){
      $('.js_user_field').autocomplete({
        source: <%= ::Refinery::User.select(:full_name).map(&:full_name).to_json.html_safe %>
      });
    });
  </script>
<% end %>
