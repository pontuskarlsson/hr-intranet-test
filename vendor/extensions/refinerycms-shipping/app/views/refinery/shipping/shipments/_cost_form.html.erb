<%= f.fields_for :costs, cost, child_index: i do |cost_form| %>
  <span class="form-addable-remove">
    <% if cost.persisted? %>
      <%= cost_form.hidden_field :_destroy %>
    <% end %>
    <i class="fa fa-minus-square"></i>
  </span>

  <div class="grid-x grid-padding-x">
    <div class="cell medium-4 large-3">
      <%= cost_form.label :cost_type %>
      <%= cost_form.select :cost_type, options_for_select(Refinery::Shipping::Cost.cost_type_options, cost_form.object.cost_type) %>
    </div>

    <div class="cell medium-4 large-3">
      <div class="input-group">
        <div class="input-group-field">
          <%= cost_form.label :amount %>
          <%= cost_form.number_field :amount, placeholder: '0', step: '0.001' %>
        </div>
        <div class="input-group-field">
          <%= cost_form.label :currency_code %>
          <%= cost_form.select :currency_code, options_for_select(::Refinery::Shipping::Shipment::CURRENCIES, cost_form.object.currency_code), {} %>
        </div>
      </div>
    </div>

    <div class="cell medium-4 large-3">
      <%= cost_form.label :invoice_amount %>
      <div class="input-group">
        <%= cost_form.number_field :invoice_amount, placeholder: '0', step: '0.001', required: true, class: 'input-group-field' %>
        <span class="input-group-label js_currency_code_label" style="flex: 0 0 70px;"><%= f.object.rate_currency %></span>
      </div>
    </div>

    <div class="cell large-3">
      <%= cost_form.label :comments %>
      <%= cost_form.text_area :comments %>
    </div>
  </div>
<% end %>
