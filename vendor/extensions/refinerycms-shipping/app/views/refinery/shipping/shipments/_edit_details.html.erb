<%= form_for @shipment, url: refinery.shipping_shipment_path(@shipment) do |f| %>
  <h3>Shipment Details</h3>
  <table class="cc-table">
    <tbody>
    <tr>
      <th><%= f.label :shipper_company_label, 'Shipper' %></th>
      <td><%= f.text_field :shipper_company_label, class: 'js_company_field' %></td>
    </tr>
    <tr>
      <th style="width: 150px;"><%= f.label :supplier_company_label, 'Supplier' %></th>
      <td><%= f.text_field :supplier_company_label, class: 'js_company_field' %></td>
    </tr>
    <tr>
      <th style="width: 150px;"><%= f.label :receiver_company_label, 'Receiver' %></th>
      <td><%= f.text_field :receiver_company_label, class: 'js_company_field' %></td>
    </tr>
    <tr>
      <th><%= f.label :consignee_company_label, 'Consignee' %></th>
      <td><%= f.text_field :consignee_company_label, class: 'js_company_field' %></td>
    </tr>
    <tr>
      <th style="width: 150px;"><%= f.label :forwarder_company_label, 'Forwarder' %></th>
      <td><%= f.text_field :forwarder_company_label, class: 'js_company_field' %></td>
    </tr>
    <tr>
      <th><%= f.label :consignee_reference %></th>
      <td><%= f.text_field :consignee_reference %></td>
    </tr>
    <tr>
      <th><%= f.label :cargo_ready_date %></th>
      <td><%= f.date_field :cargo_ready_date %></td>
    </tr>
    <tr>
      <th><%= f.label :mode %></th>
      <td><%= f.select :mode, options_for_select(::Refinery::Shipping::Shipment.mode_options, f.object.mode) -%></td>
    </tr>
    <tr>
      <th><%= f.label :shipment_terms %></th>
      <td><%= f.text_field :shipment_terms %></td>
    </tr>
    </tbody>
  </table>

  <div>
    <% if shipment.status_is_draft? %>
      <%= f.submit 'Save Draft', class: 'button' %>
    <% else %>
      <%= f.submit 'Save', class: 'button' %>
    <% end%>
  </div>
<% end %>

<% content_for :stylesheets do %>
  <%= stylesheet_link_tag '//ajax.googleapis.com/ajax/libs/jqueryui/1/themes/smoothness/jquery-ui.css' %>
<% end %>

<% content_for :javascripts do %>
  <script type="text/javascript">
    $(function(){
      $('.js_date_field').datepicker({ dateFormat: "yy-mm-dd" });
      $('.js_company_field').autocomplete({ source: <%= ::Refinery::Business::Company.for_user_roles(current_authentication_devise_user).to_source %> });
    });
  </script>
<% end %>
