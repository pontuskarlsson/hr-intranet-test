<%= form_for [refinery, :shipping_admin, @route] do |f| -%>
  <%= render '/refinery/admin/error_messages',
              :object => @route,
              :include_object_name => true %>

  <div class='field'>
    <%= f.label :shipment_label -%>
    <%= f.text_field :shipment_label, class: 'js_shipment_field' -%>
  </div>

  <div class='field'>
    <%= f.label :location_label -%>
    <%= f.text_field :location_label, class: 'js_location_field' -%>
  </div>

  <div class='field'>
    <%= f.label :route_type -%>
    <%= f.select :route_type, options_for_select(::Refinery::Shipping::Route.route_type_options, f.object.route_type) -%>
  </div>

  <div class='field'>
    <%= f.label :route_description -%>
    <%= f.text_field :route_description -%>
  </div>

  <div class='field'>
    <%= f.label :notes -%>
    <%= f.text_area :notes -%>
  </div>

  <div class='field'>
    <%= f.label :status -%>
    <%= f.select :status, options_for_select(::Refinery::Shipping::Route::status_options, f.object.status) -%>
  </div>

  <div class='field'>
    <%= f.label :arrived_at -%>
    <%= f.date_field :arrived_at -%>
  </div>

  <div class='field'>
    <%= f.label :departed_at -%>
    <%= f.date_field :departed_at -%>
  </div>

  <div class='field'>
    <%= f.label :prior_route_label -%>
    <%= f.text_field :prior_route_label, class: 'js_route_field' -%>
  </div>

  <div class='field'>
    <%= f.label :final_destination -%>
    <%= f.check_box :final_destination -%>
  </div>

  <%= render '/refinery/admin/form_actions', :f => f,
             :continue_editing => false,
             :delete_title => t('delete', :scope => 'refinery.shipping.admin.routes.route'),
             :delete_confirmation => t('message', :scope => 'refinery.admin.delete', :title => @route.shipment_label) -%>
<% end -%>

<% content_for :stylesheets do %>
  <%= stylesheet_link_tag '//ajax.googleapis.com/ajax/libs/jqueryui/1/themes/smoothness/jquery-ui.css' %>
<% end %>

<% content_for :javascripts do %>
  <script type="text/javascript">
    $(function(){
      $('.js_shipment_field').autocomplete({
        source: <%= ::Refinery::Shipping::Shipment.to_source %>
      });
    });
  </script>
<% end %>
