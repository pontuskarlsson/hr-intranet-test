<table class="display js_companies_data_table responsive nowrap" cellspacing="0" style="width: 100%;">
  <thead>
  <tr>
    <th></th>
    <th>Code</th>
    <th>Name</th>
    <th>Website</th>
    <th>Phone</th>
    <th>Email</th>
    <th>Country</th>
  </tr>
  </thead>

  <tfoot>
  <tr>
    <th></th>
    <th>Code</th>
    <th>Name</th>
    <th>Website</th>
    <th>Phone</th>
    <th>Email</th>
    <th>Country</th>
  </tr>
  </tfoot>
</table>

<% content_for :stylesheets do %>
  <%= stylesheet_link_tag 'https://cdn.datatables.net/1.10.19/css/dataTables.foundation.min.css' %>
  <%= stylesheet_link_tag 'https://cdn.datatables.net/responsive/2.2.3/css/responsive.foundation.min.css' %>
<% end %>

<% content_for :javascripts do %>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.foundation.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.foundation.min.js"></script>

  <script type="text/javascript">
    $(function(){
      var dt = $('.js_companies_data_table').DataTable({
        "responsive":     true,
        "paging":         true,
        "ajax": "<%= refinery.business_companies_path(filter_params) %>",
        "columns": [
          { data: "id", "render": { "display": idColumnRendererFor("<%= refinery.business_companies_path %>") } },
          { data: "code" },
          { data: "name" },
          { data: "contact_website" },
          { data: "contact_phone" },
          { data: "contact_email" },
          { data: "contact_country" }
        ]
      });

      initDataTableMenu(dt);
    });
  </script>
<% end %>
