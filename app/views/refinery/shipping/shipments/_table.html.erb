<table id="<%= table_id %>" class="display responsive nowrap" cellspacing="0" style="width: 100%;">
  <thead>
  <tr>
    <th>&nbsp;</th>
    <th data-dt-search-input="true">Code</th>
    <th data-dt-search-input="true">From</th>
    <th data-dt-search-input="true">To</th>
    <th data-dt-search-input="true">Tracking No.</th>
    <th>Mode</th>
    <th>Status</th>
    <th>ETD</th>
    <th>ETA</th>
    <th>Terms</th>
    <th data-dt-search-input="true">Courier / Forwarder</th>
  </tr>
  </thead>

  <tfoot>
  <tr>
    <th>&nbsp;</th>
    <th>Code</th>
    <th>From</th>
    <th>To</th>
    <th>Tracking No.</th>
    <th>Mode</th>
    <th>Status</th>
    <th>ETD</th>
    <th>ETA</th>
    <th>Terms</th>
    <th>Courier / Forwarder</th>
  </tr>
  </tfoot>

  <tbody>
  <tr>
    <td colspan="11">Loading data. Please wait...</td>
  </tr>
  </tbody>
</table>

<% content_for :stylesheets do %>
  <%= stylesheet_link_tag 'https://cdn.datatables.net/1.10.19/css/dataTables.foundation.min.css' %>
  <%= stylesheet_link_tag 'https://cdn.datatables.net/responsive/2.2.3/css/responsive.foundation.min.css' %>
  <%= stylesheet_link_tag '//ajax.googleapis.com/ajax/libs/jqueryui/1/themes/smoothness/jquery-ui.css' %>
<% end %>

<% content_for :javascripts do %>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.foundation.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.foundation.min.js"></script>

  <script type="text/javascript">
    $(function(){
      var dt = $('#<%= table_id %>').DataTable({
        "responsive":     true,
        "paging":         true,
        "order":          [[ 6, "desc" ]],
        "ajax": "<%= refinery.shipping_shipments_path(filter_params) %>",
        "columns": [
          { data: "id", "render": { "display": idColumnRendererFor("<%= refinery.shipping_shipments_path %>") } },
          { data: "code" },
          { data: "from_contact_label" },
          { data: "to_contact_label" },
          { data: "tracking_number" },
          { data: "mode" },
          { data: "display_status" },
          { data: "etd_date", render: dtDateRenderer },
          { data: "eta_date", render: dtDateRenderer },
          { data: "shipment_terms" },
          { data: "courier_forwarder_company_label" }
        ],
        "dom": "<'row grid-x'<'medium-6 columns cell'l><'medium-6 columns cell'f>r>"+
          "t"+
          "<'row grid-x'<'medium-6 columns cell'i><'medium-6 columns cell'p>>"
      });

      initDataTable(dt)
    });
  </script>
<% end %>
