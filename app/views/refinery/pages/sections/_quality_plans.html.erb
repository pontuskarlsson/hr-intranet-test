<%-
  plans = {
    'Small' => { header_title: 'Small', header_number: 5, header_text: "mandays or more\nper month", header_promo: '', features: [
      { large: '2%', text: 'discount' },
      { large: '$343', text: 'per manday' },
      { large: '$1,715', text: 'and up monthly' },
    ] },
    'Medium' => { header_title: 'Medium', header_number: 10, header_text: "mandays or more\nper month", header_promo: 'Most popular', features: [
      { large: '6%', text: 'discount' },
      { large: '$329', text: 'per manday' },
      { large: '$3,290', text: 'and up monthly' },
    ] },
    'Large' => { header_title: 'Large', header_number: 20, header_text: "mandays or more\nper month", header_promo: '', features: [
      { large: '8%', text: 'discount' },
      { large: '$322', text: 'per manday' },
      { large: '$6,440', text: 'and up monthly' },
    ] },
    'X-Large' => { header_title: 'X-Large', header_number: 30, header_text: "mandays or more\nper month", header_promo: '', features: [
      { large: '10%', text: 'discount' },
      { large: '$315', text: 'per manday' },
      { large: '$9,450', text: 'and up monthly' },
    ] },
  }
%>

<div class="grid-container">
  <div class="grid-x grid-padding-x">
    <div class="cell">
      <%=raw section.body %>
    </div>
  </div>
</div>

<div class="text-align-center">
  <ul class="tabs tabs-no-border" data-tabs id="pricing-tabs">
    <li class="tabs-title is-active"><a href="#panel-pay-as-you-go" aria-selected="true">Pay-as-you-go</a></li>
    <li class="tabs-title"><a data-tabs-target="panel-plans" href="#panel-plans">Monthly Plans</a></li>
  </ul>
</div>

<div class="tabs-content tabs-no-border" data-tabs-content="pricing-tabs">
  <div class="tabs-panel is-active" id="panel-pay-as-you-go">
    <div class="grid-container">
      <div class="grid-x grid-padding-x">
        <div class="cell">
          <p>Pay as you go.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="tabs-panel tabs-panel-plans" id="panel-plans">
    <div class="show-for-small-only">
      <div class="orbit" role="region" aria-label="Favorite Space Pictures" data-orbit data-options="autoPlay: false; infiniteWrap: false; swipe: true;">
        <div class="orbit-wrapper">
          <div class="orbit-controls">
            <button class="orbit-previous"><span class="show-for-sr">Previous Slide</span>&#9664;&#xFE0E;</button>
            <button class="orbit-next"><span class="show-for-sr">Next Slide</span>&#9654;&#xFE0E;</button>
          </div>
          <ul class="orbit-container">
            <li class="orbit-slide">
              <figure class="orbit-figure pricing-item">
                <%= render 'refinery/pages/sections/quality_plans/plan', plans['Small'] %>
              </figure>
            </li>
            <li class="is-active orbit-slide">
              <figure class="orbit-figure pricing-item">
                <%= render 'refinery/pages/sections/quality_plans/plan', plans['Medium'] %>
              </figure>
            </li>
            <li class="orbit-slide">
              <figure class="orbit-figure pricing-item">
                <%= render 'refinery/pages/sections/quality_plans/plan', plans['Large'] %>
              </figure>
            </li>
            <li class="orbit-slide">
              <figure class="orbit-figure pricing-item">
                <%= render 'refinery/pages/sections/quality_plans/plan', plans['X-Large'] %>
              </figure>
            </li>
          </ul>
        </div>
        <nav class="orbit-bullets">
          <button data-slide="0">
            <span class="show-for-sr">Basic Plan</span>
          </button>
          <button class="is-active" data-slide="1">
            <span class="show-for-sr">Premium Plan</span>
            <span class="show-for-sr" data-slide-active-label>Current Slide</span>
          </button>
          <button data-slide="2">
            <span class="show-for-sr">Premium Plus Plan</span>
          </button>
        </nav>
      </div>
    </div>

    <div class="show-for-medium">
      <div class="grid-container">
        <div class="grid-x grid-x-padding">
          <div class="cell">
            <div class="pricing-container">
              <div class="pricing-item">
                <%= render 'refinery/pages/sections/quality_plans/plan', plans['Small'] %>
              </div>

              <div class="pricing-item">
                <%= render 'refinery/pages/sections/quality_plans/plan', plans['Medium'] %>
              </div>

              <div class="pricing-item">
                <%= render 'refinery/pages/sections/quality_plans/plan', plans['Large'] %>
              </div>

              <div class="pricing-item">
                <%= render 'refinery/pages/sections/quality_plans/plan', plans['X-Large'] %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<% content_for :javascripts do %>
  <script type="text/javascript">
    // Trigger a resize event of window to make sure orbit is initiated
    // properly inside the tab that was initially hidden.
    $( document ).ready(function() {
      $('[data-tabs]').on('change.zf.tabs', function() {
        $(window).trigger('resize');
      });
    });
  </script>
<% end %>
